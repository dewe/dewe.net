<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>.SharePoint: Webb-säkra svenska filnamn</title>
<script type="text/javascript">(function() { var a=window;function e(b){this.t={};this.tick=function(c,h,d){d=d?d:(new Date).getTime();this.t[c]=[d,h]};this.tick("start",null,b)}var f=new e;a.jstiming={Timer:e,load:f};try{a.jstiming.pt=a.gtbExternal&&a.gtbExternal.pageT()||a.external&&a.external.pageT}catch(g){};a.tickAboveFold=function(b){b=b;var c=0;if(b.offsetParent){do c+=b.offsetTop;while(b=b.offsetParent)}b=c;b<=750&&a.jstiming.load.tick("aft")};var i=false;function j(){if(!i){i=true;a.jstiming.load.tick("firstScrollTime")}}a.addEventListener?a.addEventListener("scroll",j,false):a.attachEvent("onscroll",j); })();</script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="MSSmartTagsPreventParsing" content="true" />
<meta name="generator" content="Blogger" />

<link rel="alternate" type="application/atom+xml" title=".SharePoint - Atom" href="/sharepoint/atom.xml" />
<link rel="alternate" type="application/rss+xml" title=".SharePoint - RSS" href="/sharepoint/rss.xml" />
<link rel="service.post" type="application/atom+xml" title=".SharePoint - Atom" href="http://www.blogger.com/feeds/24218888/posts/default" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.blogger.com/rsd.g?blogID=24218888" />
<link rel="alternate" type="application/atom+xml" title=".SharePoint - Atom" href="http://www.blogger.com/feeds/24218888/5986548766310897969/comments/default" />
 <link rel="stylesheet" type="text/css" href="http://www.blogger.com/static/v1/v-css/3727950723-blog_controls.css"/> <link rel="stylesheet" type="text/css" href="http://www.blogger.com/dyn-css/authorization.css?targetBlogID=24218888&zx=0de7503c-54ac-40ac-8204-e13c84b918a3"/><script type="text/javascript" src="http://www.blogger.com/static/v1/v-js/1188848481-backlink.js"></script>
<script type="text/javascript" src="http://www.blogger.com/static/v1/v-js/463928704-backlink_control.js"></script>
<script type="text/javascript">var BL_backlinkURL = "http://www.blogger.com/dyn-js/backlink_count.js";var BL_blogId = "24218888";</script>

<link rel="stylesheet" type="text/css" href="/sharepoint/styles.css" />
<meta name="ICBM" content="59.276667, 18.07417" />
<meta name="DC.title" content=".SharePoint" />
<script type="text/javascript">
   // fix bad rss link
   var linktags = document.getElementsByTagName("link");
   for (var i = linktags.length; i>=0; i--)
   {
      var linktag = linktags[i];	
      if (linktag && linktag.getAttribute("href") == "/sharepoint/rss.xml")
      {
         linktag.setAttribute("href", "http://feeds.feedburner.com/dewe/sharepoint");
         break;
      }
   }
</script>
</head>

<body>

<div id="header">

  <h1 id="blog-title">
    
    <a href="/sharepoint/">
	.SharePoint
    </a>
    
  </h1>
  <p id="description">En blogg på svenska om SharePoint i synnerhet och .Net i allmänhet</p>

</div>

<!-- Begin #content -->
<div id="content">

<!-- Begin #main -->
<div id="main"><div id="main2">



  
      <h2 class="date-header">2008-05-09</h2> 
  

  <!-- Begin .post -->
  <div class="post"><a name="5986548766310897969"></a>
         
    <h3 class="post-title">
	 
	 Webb-säkra svenska filnamn
	 
    </h3>
    

	         <div class="post-body">
	<div>
      <div style="clear:both;"></div><p>Ibland beh&#246;ver man skapa webb-s&#228;kra namn fr&#229;n vanlig text, f&#246;r anv&#228;nding i URLer, p&#229; samma s&#228;tt som bloggmotorer g&#246;r. H&#228;r &#228;r en f&#246;rsvenskad metod som &#228;r sn&#228;ll mot svenska/konstiga tecken:</p>  <div style="font-size: 10pt; background: white; color: black; font-family: consolas">   <p style="margin: 0px"><span style="color: blue">static</span> <span style="color: blue">string</span> UrlNameFromTitle(<span style="color: blue">string</span> title, <span style="color: blue">int</span> maxlength)</p>    <p style="margin: 0px">{</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: #2b91af">Regex</span> nonstd = <span style="color: blue">new</span> <span style="color: #2b91af">Regex</span>(<span style="color: #a31515">@&quot;[^a-zA-Z0-9\s]&quot;</span>);</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: #2b91af">Regex</span> whites = <span style="color: blue">new</span> <span style="color: #2b91af">Regex</span>(<span style="color: #a31515">@&quot;\s+&quot;</span>);</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: #2b91af">Regex</span> dashes = <span style="color: blue">new</span> <span style="color: #2b91af">Regex</span>(<span style="color: #a31515">@&quot;^[-]|[-]+$&quot;</span>);</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">string</span> s = RemoveDiacritics(title);</p>    <p style="margin: 0px">&#160;&#160;&#160; s = nonstd.Replace(s, <span style="color: #a31515">&quot;&quot;</span>);</p>    <p style="margin: 0px">&#160;&#160;&#160; s = whites.Replace(s, <span style="color: #a31515">&quot;-&quot;</span>);</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">if</span> (s.Length &gt; maxlength)</p>    <p style="margin: 0px">&#160;&#160;&#160; {</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; s = s.Substring(0, maxlength);</p>    <p style="margin: 0px">&#160;&#160;&#160; }</p>    <p style="margin: 0px">&#160;&#160;&#160; s = dashes.Replace(s, <span style="color: #a31515">&quot;&quot;</span>);</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">return</span> s.ToLower();</p>    <p style="margin: 0px">}</p> </div>  <p>Jag anv&#228;nder ett unicode-trick f&#246;r att plocka bort prickar och ringar fr&#229;n svenska tecken, eller r&#228;ttare sagt transformera alla accentuerade tecken till sin basform. Koden kommer fr&#229;n <a title="Stripping is an interesting job (aka On the meaning of meaningless, aka All Mn characters are non-spacing, but some are more non-spacing than others)" href="http://blogs.msdn.com/michkap/archive/2007/05/14/2629747.aspx" target="_blank">Michael Kaplan</a>:</p>  <div style="font-size: 10pt; background: white; color: black; font-family: consolas">   <p style="margin: 0px"><span style="color: blue">static</span> <span style="color: blue">string</span> RemoveDiacritics(<span style="color: blue">string</span> s)</p>    <p style="margin: 0px">{</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">string</span> d = s.Normalize(<span style="color: #2b91af">NormalizationForm</span>.FormD);</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: #2b91af">StringBuilder</span> sb = <span style="color: blue">new</span> <span style="color: #2b91af">StringBuilder</span>();</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">for</span> (<span style="color: blue">int</span> i = 0; i &lt; d.Length; i++)</p>    <p style="margin: 0px">&#160;&#160;&#160; {</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: #2b91af">UnicodeCategory</span> uc =       <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: #2b91af">CharUnicodeInfo</span>.GetUnicodeCategory(d[i]);</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style="color: blue">if</span> (uc != <span style="color: #2b91af">UnicodeCategory</span>.NonSpacingMark)</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; sb.Append(d[i]);</p>    <p style="margin: 0px">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>    <p style="margin: 0px">&#160;&#160;&#160; }</p>    <p style="margin: 0px">&#160;&#160;&#160; <span style="color: blue">return</span> sb.ToString().Normalize(<span style="color: #2b91af">NormalizationForm</span>.FormC);</p>    <p style="margin: 0px">}</p> </div>  <p></p>  <div class="wlWriterSmartContent" id="scid:0767317B-992E-4b12-91E0-4F059A8CECA8:d8dc0706-91f4-475a-824e-8264098166c4" style="padding-right: 0px; display: inline; padding-left: 0px; padding-bottom: 0px; margin: 0px; padding-top: 0px">Technorati Tags: <a href="http://technorati.com/tags/developer" rel="tag">developer</a>,<a href="http://technorati.com/tags/.net" rel="tag">.net</a>,<a href="http://technorati.com/tags/unicode" rel="tag">unicode</a></div>  <div style="clear:both; padding-bottom:0.25em"></div>
    </div>
    </div>
    
   <script src="http://feeds.feedburner.com/~s/dewe/sharepoint?i=/sharepoint/2008/05/webb-skra-svenska-filnamn.html" type="text/javascript" charset="utf-8"></script>

    <p class="post-footer">
      <em>Posted 5/09/2008 | <a href="/sharepoint/2008/05/webb-skra-svenska-filnamn.html" title="permanent link">Permalink</a>
      
      <span class="item-control blog-admin pid-217105390"><a style="border:none;" href="http://www.blogger.com/post-edit.g?blogID=24218888&postID=5986548766310897969" title="Redigera inlägg"><img class="icon-action" alt="" src="http://www.blogger.com:80/img/icon18_edit_allbkg.gif" height="18" width="18"></a></span>
      </em>
    </p>
  
  </div>
  <!-- End .post -->
  
  
  
  <!-- Begin #comments -->
 
  <div id="comments">

	<a name="comments"></a>
        <h4>0 Comments:</h4>
        <dl id="comments-block">
      
    </dl>
		<p class="comment-timestamp">

    <a class="comment-link" href="https://www.blogger.com/comment.g?blogID=24218888&postID=5986548766310897969">Skicka en kommentar</a>
    </p>
    	    
    
    <a name="links"></a><h4>Links to this post:</h4>
    <dl id="comments-block">
    <script type="text/javascript" src="http://www.blogger.com/dyn-js/backlink.js?blogID=24218888&postID=5986548766310897969" charset="utf-8" defer="true">
</script>
<noscript><a href="http://blogsearch.google.com/?ui=blg&q=link%3Ahttp%3A%2F%2Fwww.dewe.net%2Fsharepoint%2F2008%2F05%2Fwebb-skra-svenska-filnamn.html">Visa länkarna till det här inlägget</a></noscript>
<div id="blogger-dcom-block" style="display:none">
        <dt class="comment-title">
        <span class="comment-toggler">&nbsp;</span>
        <a href="<$BlogBacklinkURL$>" rel="nofollow"><$BlogBacklinkTitle$></a> <span class="item-control blog-admin"><a style="border:none;" href="http://www.blogger.com/delete-backlink.g?blogID=24218888&amp;postID=5986548766310897969&amp;backlinkURL=%3C$BlogBacklinkURLEscaped$%3E" title="Ta bort länk" ><span class="delete-comment-icon">&nbsp;</span></a></span>
        </dt>
        <dd class="comment-body"><$BlogBacklinkSnippet$>
        <br />
        <span class="comment-poster">
        <em>posted by <$BlogBacklinkAuthor$> @ <$BlogBacklinkDateTime$></em>
        </span>
        </dd>
    </div>
<script type="text/javascript">if (typeof BL_addOnLoadEvent == 'function') { BL_addOnLoadEvent(function() { BL_writeBacklinks(); }); }</script>

    </dl>
    <p class="comment-timestamp"><script type="text/javascript">function BlogThis() {
Q=''; x=document; y=window;
if(x.selection) {
  Q=x.selection.createRange().text;
} else if (y.getSelection) {
  Q=y.getSelection();
} else if (x.getSelection) {
  Q=x.getSelection();
}
popw = y.open('http://www.blogger.com/blog-this.g?t=' +
  escape(Q) + '&u=' + escape(location.href) + '&n=' +
  escape(document.title),'bloggerForm',
  'scrollbars=no,width=475,height=300,top=175,left=75,status=yes,resizable=yes');
void(0);
}
</script>
<a class="comment-link" href="javascript:BlogThis();" id="b-backlink">Skapa en länk</a></p>
    


		<p class="comment-timestamp">
	<a href="/sharepoint/">&lt;&lt; Home</a>
    </p>
    </div>



  <!-- End #comments -->

<script type="text/javascript" src="http://www.blogger.com/static/v1/common/js/1499043574-csitaillib.js"></script>
<script>if (typeof(window.attachCsiOnload) != 'undefined' && window.attachCsiOnload != null) { window.attachCsiOnload('ext_blogspot'); }</script>
</div></div>
<!-- End #main -->




<!-- Begin #sidebar -->
<div id="sidebar"><div id="sidebar2">
  
  <h2 class="sidebar-title">Search this blog</h2>
  <!-- Google CSE Search Box Begins  -->
  <form action="http://www.google.com/cse" id="searchbox_001494439661427669059:ads-mjm9oya" target="_blank">
    <input type="hidden" name="cx" value="001494439661427669059:ads-mjm9oya" />
    <input type="text" name="q" size="20" />
    <input type="submit" name="sa" value=" S&ouml;k " />
  </form>
  <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_001494439661427669059%3Aads-mjm9oya&lang=sv"></script>
  <!-- Google CSE Search Box Ends -->
  <ul></ul>

  <ul id="links">
    
      <li><a href="/sharepoint/">Home</a></li>
    
    <li><a href="http://feeds.feedburner.com/dewe/sharepoint"><img src="/sharepoint/images/fi12.png" /></a>&nbsp;<a href="http://feeds.feedburner.com/dewe/sharepoint">RSS site feed</a></li>   
  </ul>

  <!-- Begin #profile-container -->

   <div id="profile-container"><h2 class="sidebar-title">Om mig</h2>
<dl class="profile-datablock">
<dd class="profile-data"><strong>Namn:</strong>  Johan Dewe </dd>
<dd class="profile-data"><strong>Plats:</strong>  Stockholm, Sweden </dd></dl>
<p class="profile-textblock">Systemarkitekt på Fritidsresor AB.</p>
<p class="profile-link"><a href="http://www.blogger.com/profile/13235019595667853405">Visa hela min profil</a></p></div>
   
  <!-- End #profile -->

  <h2 class="sidebar-title">Links</h2>
  <ul id="links">
    <li><a href="http://office.microsoft.com/en-us/sharepointserver/FX101211721033.aspx" target="_blank">MOSS 2007 Help and How-to</a></li>
    <li><a href="http://technet.microsoft.com/en-us/library/cc263630.aspx" target="_blank">MOSS 2007 Technical Library</a></li>
    <li><a href="http://msdn2.microsoft.com/en-us/office/aa905503.aspx" target="_blank">MOSS 2007 Developer Portal</a></li>
    <li><a href="http://msdn2.microsoft.com/en-us/library/ms550992.aspx" target="_blank">MOSS 2007 SDK</a></li>
    <li><a href="http://msdn2.microsoft.com/en-us/library/ms441339.aspx" target="_blank">WSS 3.0 SDK</a></li>
    <li><a href="http://support.microsoft.com/?scid=ph;en-us;11373" target="_blank">MOSS Support Center</a></li>
    <li><a href="http://www.strandinterconnect.se" target="_blank">Strand Interconnect AB</a></li>
  </ul>

  <h2 class="sidebar-title">Previous Posts</h2>
  <ul id="recently">
    
        <li><a href="/sharepoint/2008/05/sharepoint-2007-test-data-population.html">SharePoint 2007 Test Data Population Tool</a></li>
     
        <li><a href="/sharepoint/2008/03/xmlformview-webpart-trick.html">XmlFormView webpart trick</a></li>
     
        <li><a href="/sharepoint/2008/03/page-layouts-zonetemplate-vs.html">Page Layouts: ZoneTemplate vs AllUsersWebPart</a></li>
     
        <li><a href="/sharepoint/2008/03/konfigurera-visual-studio-fr-att.html">Konfigurera Visual Studio f&ouml;r att debugga .NET Fra...</a></li>
     
        <li><a href="/sharepoint/2008/03/windows-live-writer.html">Windows Live Writer</a></li>
     
        <li><a href="/sharepoint/2008/02/default-html-in-sharepoint-2007.html">Default HTML in Sharepoint 2007</a></li>
     
        <li><a href="/sharepoint/2008/02/sdkerna-fr-sp1-finns-fr-nedladdning.html">SDK:erna f&ouml;r SP1 finns f&ouml;r nedladdning</a></li>
     
        <li><a href="/sharepoint/2008/02/mer-om-anvndning-av-dispose-i.html">Mer om anv&auml;ndning av Dispose() i SharePoints OM</a></li>
     
        <li><a href="/sharepoint/2008/02/svenska-sharepoint-bloggare.html">Svenska SharePoint-bloggare</a></li>
     
        <li><a href="/sharepoint/2008/01/stsdev-kodgenerator-fr-sharepoint.html">STSDEV - kodgenerator f&ouml;r SharePoint-projekt</a></li>
     
  </ul>
    

  

  <p id="powered-by"><a href="http://www.blogger.com"><img src="http://buttons.blogger.com/bloggerbutton1.gif" alt="Powered by Blogger" /></a></p>
  
  <!--
  <p>This is a paragraph of text that could go in the sidebar.</p>
  -->
  


</div></div>
<!-- End #sidebar -->


</div>
<!-- End #content -->



<!-- Begin #footer -->
<div id="footer"><hr />
  <p><!--This is an optional footer. If you want text here, place it inside these tags, and remove this comment. -->&nbsp;</p>

</div>
<!-- End #footer -->



</body>
</html>